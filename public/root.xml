<templates>
  <t t-name="Root">
    <main>
      <h1>Curso de Owl 2</h1>
      <section class="user-list-section">
        <!-- <h3>Lista de Usuarios</h3> -->
        <div class="user-panel">
          <!-- Panel de Estadísticas -->
          <div class="stats-badges">
            <StatsBadge label="'Total Usuarios'"
              className="'badge-primary'"
              quantity="state.users.length" />
            <StatsBadge label="'Usuarios Activos'"
              className="'badge-secondary'"
              quantity="activeCount" />
          </div>
          <!-- Barra de búsqueda: filtra por nombre o email -->
          <div class="search-section">
            <div class="search-input-group">
              <input type="text"
                placeholder="Buscar por nombre o email..."
                t-model="state.search"/>
              <button t-if="state.search"
                t-on-click="clearSearch"
                class="btn-search-clear">✕</button>
            </div>
          </div>
          <!-- Botones de Acción -->
          <div class="buttons-action">
          </div>
          <button t-on-click="openModal"
            class="btn-add">
            <i class="fa fa-plus"></i>
          </button>
        </div>
        <UserList users="filteredUsers"/>
      </section>
      <div id="modal-portal"></div>
      <Modal isOpen="state.modalOpen"
        title="'Agregar Usuario'"
        onClose.bind="closeModal"
        onConfirm.bind="handleConfirm">
        <div class="modal-form">
          <div class="form-group">
            <label for="user-name">Nombre</label>
            <input type="text"
              id="user-name"
              t-model="state.newUser.name"
              placeholder="Nombre completo"/>
          </div>
          <div class="form-group">
            <label for="user-username">Nombre de usuario</label>
            <input type="text"
              id="user-username"
              t-model="state.newUser.username"
              placeholder="Usuario"/>
          </div>
          <div class="form-group">
            <label for="user-email">Correo electrónico</label>
            <input type="text"
              id="user-email"
              t-model="state.newUser.email"
              placeholder="user@example.com"/>
          </div>
          <div class="form-group">
            <label for="user-phone">Teléfono</label>
            <input type="text"
              id="user-phone"
              t-model="state.newUser.phone"
              placeholder="1-770-736-8031"/>
          </div>
          <div class="form-group">
            <label for="user-website">Sitio web</label>
            <input type="text"
              id="user-website"
              t-model="state.newUser.website"
              placeholder="example.com"/>
          </div>
        </div>
      </Modal>
    </main>
  </t>
</templates>
